@model Semestralka.Domain.Entities.User

@{
    ViewData["Title"] = "Nastaven√≠";
    Layout = "_Layout";
}

<h2 class="fw-bold mb-4">Nastaven√≠ √∫ƒçtu</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success mb-3">@TempData["Success"]</div>
}

<div class="settings-card">

    <form method="post" enctype="multipart/form-data" action="/settings/update">
        <div class="form-section">
            <label class="section-title">Profilov√° fotka</label>

            <div class="avatar-row">
                <img src="@Model.AvatarPath" class="settings-avatar" />

                <label class="upload-btn">
                    üì∏ Nahr√°t novou fotku
                    <input type="file" name="avatarUpload" accept="image/*" />
                </label>
            </div>
        </div>

        <hr />

        <div class="form-section">
            <label class="input-label">Jm√©no</label>
            <input type="text" name="FullName" class="input-control" value="@Model.FullName" required />
        </div>

        <div class="form-section">
            <label class="input-label">Email</label>
            <input type="email" name="Email" class="input-control" value="@Model.Email" required />
        </div>

        <h5>Zmƒõna hesla</h5>
        <div class="form-section mb-4">
            

            <label class="input-label mt-2">Star√© heslo</label>
            <input type="password" name="oldPassword" class="input-control" placeholder="Zadejte souƒçasn√© heslo" />

            <label class="input-label mt-3">Nov√© heslo</label>
            <input type="password" name="newPassword" class="input-control" placeholder="Nov√© heslo" />

            <label class="input-label mt-3">Potvrdit nov√© heslo</label>
            <input type="password" name="confirmPassword" class="input-control" placeholder="Znovu nov√© heslo" />

            <div class="hint mt-1">
                Pokud nechcete mƒõnit heslo, nechte v≈°echna pole pr√°zdn√°.
            </div>

            @if (TempData["PasswordError"] != null)
            {
                <div class="error mt-2">@TempData["PasswordError"]</div>
            }
        </div>


        <div class="settings-actions">
            <button class="btn-save">üíæ Ulo≈æit zmƒõny</button>
        </div>

    </form>

</div>
