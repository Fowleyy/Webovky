@model Semestralka.Application.DTOs.Event.UpdateEventDto

@{
    ViewData["Title"] = "Upravit ud치lost";
    Layout = "_Layout";
}

<h2 class="fw-bold mb-4">Upravit ud치lost</h2>

<div class="event-form">

    <!-- 游댠 NATVRDO ACTION, aby nevznikla 405 -->
    <form action="/events/edit" method="post">
        @Html.AntiForgeryToken()

        <!-- POVINN칄 -->
        <input type="hidden" name="Id" value="@Model.Id" />

        <div class="row">
            <div class="col">
                <label>N치zev ud치losti</label>
                <input name="Title"
                       type="text"
                       value="@Model.Title"
                       required />
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label>Popis</label>
                <textarea name="Description">@Model.Description</textarea>
            </div>
        </div>

        <div class="inline">
            <div class="inline-item">
                <label>Za캜치tek</label>
                <input name="Start"
                       type="datetime-local"
                       value="@Model.Start.ToLocalTime().ToString("yyyy-MM-ddTHH:mm")"
                       required />
            </div>

            <div class="inline-item">
                <label>Konec</label>
                <input name="End"
                       type="datetime-local"
                       value="@Model.End.ToLocalTime().ToString("yyyy-MM-ddTHH:mm")"
                       required />
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label>M칤sto</label>
                <input name="Location"
                       type="text"
                       value="@Model.Location" />
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label>Kategorie</label>
                <select name="CategoryId">
                    <option value="">콯치dn치 kategorie</option>

                    @if (ViewBag.Categories != null)
                    {
                        foreach (var cat in (IEnumerable<dynamic>)ViewBag.Categories)
                        {
                            if (cat.Id == Model.CategoryId)
                            {
                                <option value="@cat.Id" selected>
                                    @cat.Name
                                </option>
                            }
                            else
                            {
                                <option value="@cat.Id">
                                    @cat.Name
                                </option>
                            }
                        }
                    }
                </select>
            </div>
        </div>

        <div class="checkbox">
            <input type="checkbox"
                   name="IsAllDay"
                   value="true"
                   @(Model.IsAllDay ? "checked" : "") />
            <label>Celodenn칤 ud치lost</label>
        </div>

        <div class="actions">
            <a href="/events/delete/@Model.Id"
               class="btn btn-danger"
               onclick="return confirm('Opravdu chce코 smazat tuto ud치lost?');">
                Smazat
            </a>

            <button type="submit" class="btn btn-primary">
                Ulo쬴t zm캩ny
            </button>

            <a href="/events" class="btn btn-outline">Zp캩t</a>
        </div>
    </form>
</div>
